From 5c234fc5d4af2bdcb734d8eacd4040efd3fecc7e Mon Sep 17 00:00:00 2001
From: Benjamin Herrera Navarro <bherreranavarro@winsystems.com>
Date: Mon, 13 Mar 2023 19:46:03 +0000
Subject: [PATCH 8/9] Change RTS and CTS GPIOs to active high

---
 .../arm64/boot/dts/freescale/imx8mq-itx-p-c444.dts | 14 ++++++--------
 1 file changed, 6 insertions(+), 8 deletions(-)

diff --git a/arch/arm64/boot/dts/freescale/imx8mq-itx-p-c444.dts b/arch/arm64/boot/dts/freescale/imx8mq-itx-p-c444.dts
index 610285517d24..d3c78ac708ac 100644
--- a/arch/arm64/boot/dts/freescale/imx8mq-itx-p-c444.dts
+++ b/arch/arm64/boot/dts/freescale/imx8mq-itx-p-c444.dts
@@ -704,10 +704,9 @@ multi_protocol_serial2: &uart1 {
 	pinctrl-0 = <&pinctrl_uart1>, <&pinctrl_serial2_gpio>;
 	assigned-clocks = <&clk IMX8MQ_CLK_UART1>;
 	assigned-clock-parents = <&clk IMX8MQ_CLK_25M>;
-	cts-gpios = <&gpio5 27 GPIO_ACTIVE_LOW>;
-	rts-gpios = <&gpio5 26 GPIO_ACTIVE_LOW>;
-        rs485-rts-active-low = <0>;
-        rs485-rx-during-tx = <1>;
+	cts-gpios = <&gpio5 27 GPIO_ACTIVE_HIGH>;
+	rts-gpios = <&gpio5 26 GPIO_ACTIVE_HIGH>;
+        // rs485-rts-active-low = <0>;
 	status = "okay";
 };
 
@@ -716,10 +715,9 @@ multi_protocol_serial1: &uart2 {
         pinctrl-0 = <&pinctrl_uart2>, <&pinctrl_serial1_gpio>;
         assigned-clocks = <&clk IMX8MQ_CLK_UART2>;
         assigned-clock-parents = <&clk IMX8MQ_CLK_25M>;
-	cts-gpios = <&gpio5 29 GPIO_ACTIVE_LOW>;
-	rts-gpios = <&gpio5 28 GPIO_ACTIVE_LOW>;
-        rs485-rts-active-low = <0>;
-        rs485-rx-during-tx = <1>;
+	cts-gpios = <&gpio5 29 GPIO_ACTIVE_HIGH>;
+	rts-gpios = <&gpio5 28 GPIO_ACTIVE_HIGH>;
+        // rs485-rts-active-low = <0>;
         status = "okay";
 };
 
-- 
2.25.1

