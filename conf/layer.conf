# We have a conf and classes directory, add to BBPATH
BBPATH .= ":${LAYERDIR}"

# We have a packages directory, add to BBFILES
BBFILES += "${LAYERDIR}/recipes-*/*/*.bb \
            ${LAYERDIR}/recipes-*/*/*.bbappend"

BBFILE_COLLECTIONS += "winsys"
BBFILE_PATTERN_winsys := "^${LAYERDIR}"
BBFILE_PRIORITY_winsys = "11"
LAYERSERIES_COMPAT_winsys = "warrior kirkstone zeus"

HOSTTOOLS_NONFATAL:append = " bc rsync xxd"

#TJS: # optee is no longer a valid distro feature. Use machine feature to remove, like this:
#TJS: # MACHINE_FEATURES_remove = "optee"
#TJS: # DEPRECATED: The ability to remove optee from the build is deprecated and
#TJS: # will be removed in some future release.

DISTRO_FEATURES_FILTER_NATIVESDK += "wayland"

MACHINE_USES_VIVANTE_KERNEL_DRIVER_MODULE ?= "0"

# Overrides for imx-base.inc
IMAGE_CLASSES += "image_types_create_sdcard_symlink"

#TJS: UBOOT_ENTRYPOINT_mx6ulz = "0x10008000"
#TJS: DEFAULTTUNE_mx6ulz ?= "cortexa7thf-neon"
#TJS: DEFAULTTUNE_mx8mp ?= "cortexa53-crypto"
#TJS: 
#TJS: MACHINEOVERRIDES_EXTENDER_mx6ulz = "imxfbdev:imxpxp:imxepdc"
#TJS: MACHINEOVERRIDES_EXTENDER_mx8mn  = "imxdrm:imxgpu:imxgpu3d"
#TJS: MACHINEOVERRIDES_EXTENDER_mx8mp  = "imxdrm:imxvpu:imxgpu:imxgpu2d:imxgpu3d"
#TJS: MACHINEOVERRIDES_EXTENDER_mx8dxl = "imxfbdev"
#TJS: MACHINEOVERRIDES_EXTENDER_mx8phantomdxl = "imxfbdev"
#TJS: 
#TJS: MACHINE_SOCARCH_SUFFIX_mx6ulz = "-mx6ul"
#TJS: MACHINE_SOCARCH_SUFFIX_mx8mn  = "-mx8mn"
#TJS: MACHINE_SOCARCH_SUFFIX_mx8mp  = "-mx8mp"
#TJS: MACHINE_SOCARCH_SUFFIX_mx8dxl = "-mx8l"
#TJS: MACHINE_SOCARCH_SUFFIX_mx8phantomdxl = "-mx8l"

MACHINE_SOCARCH_FILTER:append:imxgpu = " opencv"

#TJS: MACHINE_SOCARCH_FILTER_remove = " imx-parser"
#TJS: 
#TJS: # Use latest SDMA firmware from firmware-imx instead of upstream linux-firmware
#TJS: MACHINE_FIRMWARE_remove_mx6  = "linux-firmware-imx-sdma-imx6q"
#TJS: MACHINE_FIRMWARE_remove_mx7d = "linux-firmware-imx-sdma-imx7d"
#TJS: MACHINE_FIRMWARE_append_mx6  = " firmware-imx-sdma firmware-imx-regulatory"
#TJS: MACHINE_FIRMWARE_append_mx7  = " firmware-imx-sdma firmware-imx-regulatory"
#TJS: 
#TJS: MACHINE_FIRMWARE_append_mx6ulz = " firmware-imx-epdc"
#TJS: MACHINE_FIRMWARE_append_mx8    = " linux-firmware-ath10k firmware-imx-sdma firmware-imx-regulatory"
#TJS: MACHINE_FIRMWARE_append_mx8qm  = " firmware-imx-vpu-imx8 firmware-imx-hdmi firmware-imx-xuvi sof-imx"
#TJS: MACHINE_FIRMWARE_remove_mx8qxp = "firmware-imx-vpu-imx8qxp"
#TJS: MACHINE_FIRMWARE_append_mx8qxp = " firmware-imx-vpu-imx8 sof-imx"
#TJS: MACHINE_FIRMWARE_append_mx8mn  = " firmware-imx-easrc"
#TJS: MACHINE_FIRMWARE_append_mx8mp  = " firmware-imx-easrc firmware-imx-xcvr sof-imx"
#TJS: MACHINE_FIRMWARE_append = " ${@bb.utils.contains('MACHINE_FEATURES', 'bcm4339', 'linux-firmware-bcm4339', '', d)}"
#TJS: MACHINE_FIRMWARE_append = " ${@bb.utils.contains('MACHINE_FEATURES', 'bcm43430', 'linux-firmware-bcm43430', '', d)}"
#TJS: MACHINE_FIRMWARE_append = " ${@bb.utils.contains('MACHINE_FEATURES', 'bcm43455', 'linux-firmware-bcm43455', '', d)}"
#TJS: MACHINE_FIRMWARE_append = " ${@bb.utils.contains('MACHINE_FEATURES', 'bcm4356', 'linux-firmware-bcm4356-pcie', '', d)}"
#TJS: MACHINE_FIRMWARE_append = " ${@bb.utils.contains('MACHINE_FEATURES', 'bcm4359', 'linux-firmware-bcm4359-pcie', '', d)}"
#TJS: MACHINE_FIRMWARE_append = " ${@bb.utils.contains('MACHINE_FEATURES', 'nxp8987', 'linux-firmware-nxp8987', '', d)}"
#TJS: 
#TJS: # Extra Marvell Wi-Fi & BTE driver and firmware
#TJS: MACHINE_EXTRA_RRECOMMENDS_append = " ${@bb.utils.contains('MACHINE_FEATURES', 'mrvl8997', 'packagegroup-imx-mrvl8997', '', d)}"
#TJS: 
#TJS: # Extra NXP Wlan SDK
#TJS: MACHINE_EXTRA_RRECOMMENDS_append = " ${@bb.utils.contains('MACHINE_FEATURES', 'nxp8987', 'nxp-wlan-sdk', '', d)}"
#TJS: 
#TJS: # MCore Demo apps to /lib/firmware
#TJS: MACHINE_EXTRA_RRECOMMENDS_append_mx7ulp = " imx-m4-demos"
#TJS: MACHINE_EXTRA_RRECOMMENDS_append_mx8dxl  = " imx-m4-demos"
#TJS: MACHINE_EXTRA_RRECOMMENDS_append_mx8mm  = " imx-m4-demos"
#TJS: MACHINE_EXTRA_RRECOMMENDS_append_mx8mn  = " imx-m7-demos"
#TJS: MACHINE_EXTRA_RRECOMMENDS_append_mx8mp  = " imx-m7-demos"
#TJS: MACHINE_EXTRA_RRECOMMENDS_append_mx8mq  = " imx-m4-demos"
#TJS: MACHINE_EXTRA_RRECOMMENDS_append_mx8qm  = " imx-m4-demos"
#TJS: MACHINE_EXTRA_RRECOMMENDS_append_mx8qxp  = " imx-m4-demos"
#TJS: 
#TJS: MACHINE_GSTREAMER_1_0_PLUGIN_mx6dl ?= "imx-gst1.0-plugin"
#TJS: MACHINE_GSTREAMER_1_0_PLUGIN_mx6q ?= "imx-gst1.0-plugin"
#TJS: MACHINE_GSTREAMER_1_0_PLUGIN_mx6sl ?= "imx-gst1.0-plugin"
#TJS: MACHINE_GSTREAMER_1_0_PLUGIN_mx6sll ?= "imx-gst1.0-plugin"
#TJS: MACHINE_GSTREAMER_1_0_PLUGIN_mx6sx ?= "imx-gst1.0-plugin"
#TJS: MACHINE_GSTREAMER_1_0_PLUGIN_mx6ul ?= "imx-gst1.0-plugin"
#TJS: MACHINE_GSTREAMER_1_0_PLUGIN_mx7d ?= "imx-gst1.0-plugin"
#TJS: MACHINE_GSTREAMER_1_0_PLUGIN_mx7ulp ?= "imx-gst1.0-plugin"
#TJS: MACHINE_GSTREAMER_1_0_PLUGIN_mx8 ?= "imx-gst1.0-plugin"
#TJS: 
#TJS: PREFERRED_VERSION_weston_mx6 ?= "8.0.0.imx"
#TJS: PREFERRED_VERSION_weston_mx7 ?= "8.0.0.imx"
#TJS: PREFERRED_VERSION_weston_mx8 ?= "8.0.0.imx"
#TJS: 
#TJS: PREFERRED_VERSION_wayland-protocols_mx6 = "1.18.imx"
#TJS: PREFERRED_VERSION_wayland-protocols_mx7 = "1.18.imx"
#TJS: PREFERRED_VERSION_wayland-protocols_mx8 = "1.18.imx"
#TJS: 
#TJS: PREFERRED_VERSION_libdrm_mx6 ?= "2.4.99.imx"
#TJS: PREFERRED_VERSION_libdrm_mx7 ?= "2.4.99.imx"
#TJS: PREFERRED_VERSION_libdrm_mx8 ?= "2.4.99.imx"
#TJS: 
#TJS: PREFERRED_VERSION_isp-imx ?= "4.0.8.2"
#TJS: PREFERRED_VERSION_basler-camera ?= "1.0.2"
#TJS: 
#TJS: PREFERRED_VERSION_optee-client_mx6 = "3.7.0.imx"
#TJS: PREFERRED_VERSION_optee-client_mx7 = "3.7.0.imx"
#TJS: PREFERRED_VERSION_optee-client_mx8 = "3.7.0.imx"
#TJS: PREFERRED_VERSION_optee-os_mx6 = "3.7.0.imx"
#TJS: PREFERRED_VERSION_optee-os_mx7 = "3.7.0.imx"
#TJS: PREFERRED_VERSION_optee-os_mx8 = "3.7.0.imx"
#TJS: PREFERRED_VERSION_optee-test_mx6 = "3.7.0.imx"
#TJS: PREFERRED_VERSION_optee-test_mx7 = "3.7.0.imx"
#TJS: PREFERRED_VERSION_optee-test_mx8 = "3.7.0.imx"
#TJS: 
#TJS: # Use the stable version 3.2.0. Version 3.7.0 is still 
#TJS: # in an experimental state 
#TJS: PREFERRED_VERSION_optee-os ?= "3.2.0.imx"
#TJS: PREFERRED_VERSION_optee-client ?= "3.2.0.imx"
#TJS: PREFERRED_VERSION_optee-test ?= "3.2.0.imx"
#TJS: # Temporary workaround to override specific prefered version 
#TJS: # in meta-freescale layer for i.MX8.
#TJS: PREFERRED_VERSION_optee-os_mx8     ?= "3.7.0.imx"
#TJS: PREFERRED_VERSION_optee-client_mx8 ?= "3.7.0.imx"
#TJS: PREFERRED_VERSION_optee-test_mx8   ?= "3.7.0.imx"
#TJS: 
#TJS: IMX_DEFAULT_KERNEL_mx6ulz = "linux-imx"
#TJS: 
#TJS: SOC_DEFAULT_IMAGE_FSTYPES_remove = "wic.gz"
#TJS: SOC_DEFAULT_IMAGE_FSTYPES_append = " wic.bz2 tar.bz2"
#TJS: 
#TJS: # Remove from upstream
#TJS: SDCARD_ROOTFS = "NO_LONGER_USED"
#TJS: 
#TJS: OPTEE_BOOT_IMAGE_mx6 ?= "tee.bin uTee-${OPTEE_BIN_EXT}"
#TJS: OPTEE_BOOT_IMAGE_mx7 ?= "tee.bin uTee-${OPTEE_BIN_EXT}"
#TJS: OPTEE_BOOT_IMAGE_mx8 ?= "tee.bin"
#TJS: 
#TJS: IMAGE_BOOT_FILES_append = " \
#TJS:     ${@bb.utils.contains('COMBINED_FEATURES', 'xen', 'xen', '', d)} \
#TJS: "
#TJS: 
#TJS: IMAGE_INSTALL_append = " \
#TJS:     ${@bb.utils.contains('COMBINED_FEATURES', 'jailhouse', 'jailhouse', '', d)} \
#TJS:     ${@bb.utils.contains('MACHINE_FEATURES', 'optee', 'packagegroup-fsl-optee-imx', '', d)} \
#TJS:     ${@bb.utils.contains('COMBINED_FEATURES', 'xen', 'imx-xen-base imx-xen-hypervisor', '', d)} \
#TJS: "
#TJS: 
#TJS: MACHINE_FEATURES_append_imx    = " nxp8987"
#TJS: MACHINE_FEATURES_append_mx8qm  = " xen"
#TJS: MACHINE_FEATURES_append_mx8qxp = " xen"
#TJS: 
#TJS: # Overrides for all MACHINE.conf with optee support
#TJS: UBOOT_CONFIG_OPTEE_CONFIG = "mx${OPTEE_BIN_EXT}_optee_config"
#TJS: UBOOT_CONFIG[sd-optee] = "${UBOOT_CONFIG_OPTEE_CONFIG},sdcard"
#TJS: 
#TJS: # Overrides for imx6slevk.conf
#TJS: UBOOT_CONFIG_imx6slevk = "${@bb.utils.contains('MACHINE_FEATURES', 'optee', 'sd-optee', 'sd', d)}"
#TJS: OPTEE_BIN_EXT_imx6slevk = "6slevk"
#TJS: MACHINE_FEATURES_append_imx6slevk = " optee bcm4339 bcm43455"
#TJS: 
#TJS: # Overrides for imx6sllevk.conf
#TJS: UBOOT_CONFIG_imx6sllevk = "${@bb.utils.contains('MACHINE_FEATURES', 'optee', 'sd-optee', 'sd', d)}"
#TJS: OPTEE_BIN_EXT_imx6sllevk = "6sllevk"
#TJS: MACHINE_FEATURES_remove_imx6sllevk = "pci"
#TJS: MACHINE_FEATURES_append_imx6sllevk = " optee bcm4339 bcm43455"
#TJS: 
#TJS: # Overrides for imx6sxsabreauto.conf
#TJS: UBOOT_CONFIG_imx6sxsabreauto = "${@bb.utils.contains('MACHINE_FEATURES', 'optee', 'sd-optee', 'sd', d)}"
#TJS: UBOOT_CONFIG_OPTEE_CONFIG_imx6sxsabreauto = "mx6sxsabreauto_optee_config"
#TJS: OPTEE_BIN_EXT_imx6sxsabreauto = "6sxauto"
#TJS: MACHINE_FEATURES_append_imx6sxsabreauto = " optee"
#TJS: KERNEL_DEVICETREE_remove_imx6sxsabreauto = " \
#TJS:     imx6sx-sabreauto-m4.dtb \
#TJS: "
#TJS: 
#TJS: # Overrides for imx6sxsabresd.conf
#TJS: UBOOT_CONFIG_imx6sxsabresd = "${@bb.utils.contains('MACHINE_FEATURES', 'optee', 'sd-optee', 'sd', d)}"
#TJS: UBOOT_CONFIG_OPTEE_CONFIG_imx6sxsabresd = "mx6sxsabresd_optee_config"
#TJS: OPTEE_BIN_EXT_imx6sxsabresd = "6sxsdb"
#TJS: MACHINE_FEATURES_append_imx6sxsabresd = " optee bcm4339 bcm43455"
#TJS: 
#TJS: # Overrides for imx6ulevk.conf
#TJS: UBOOT_CONFIG_imx6ulevk = "${@bb.utils.contains('MACHINE_FEATURES', 'optee', 'sd-optee', 'sd', d)}"
#TJS: UBOOT_CONFIG_OPTEE_CONFIG_imx6ulevk = "mx6ul_14x14_evk_optee_config"
#TJS: OPTEE_BIN_EXT_imx6ulevk = "6ulevk"
#TJS: MACHINE_FEATURES_remove_imx6ulevk = "pci"
#TJS: MACHINE_FEATURES_append_imx6ulevk = " optee bcm4339 bcm43455"
#TJS: SPL_BINARY_imx6ulevk = ""
#TJS: UBOOT_SUFFIX_imx6ulevk = "imx"
#TJS: UBOOT_MAKE_TARGET_imx6ulevk = "u-boot.imx"
#TJS: WKS_FILE_imx6ulevk = "imx-uboot-bootpart.wks.in"
#TJS: KERNEL_DEVICETREE_remove_imx6ulevk = " \
#TJS:     imx6ul-14x14-evk-usb-certi.dtb \
#TJS: "
#TJS: KERNEL_DEVICETREE_append_imx6ulevk = " \
#TJS:     imx6ul-14x14-evk-btwifi-oob.dtb \
#TJS:     imx6ul-14x14-evk-ecspi.dtb \
#TJS:     imx6ul-14x14-evk-ecspi-slave.dtb \
#TJS: "
#TJS: 
#TJS: # Overrides for imx7dsabresd.conf
#TJS: UBOOT_CONFIG_NONSEC = "UNSUPPORTED"
#TJS: UBOOT_CONFIG[nonsec] = "${UBOOT_CONFIG_NONSEC}"
#TJS: UBOOT_CONFIG_imx7dsabresd = "${@bb.utils.contains('MACHINE_FEATURES', 'optee', 'sd-optee', 'sd', d)}"
#TJS: UBOOT_CONFIG_NONSEC_imx7dsabresd = "mx7dsabresd_nonsec_config,sdcard"
#TJS: UBOOT_CONFIG_OPTEE_CONFIG_imx7dsabresd = "mx7dsabresd_optee_config"
#TJS: OPTEE_BIN_EXT_imx7dsabresd = "7dsdb"
#TJS: MACHINE_FEATURES_append_imx7dsabresd = " optee bcm4339 bcm43455"
#TJS: XSERVER_append_imx7dsabresd = " mesa-driver-swrast"
#TJS: WKS_FILE_DEPENDS_append_imx7dsabresd = " imx-m4-demos"
#TJS: IMAGE_BOOT_FILES_append_imx7dsabresd = " imx7d_sabresd_m4_TCM_Pingpang.bin imx7d_sabresd_m4_TCM_helloworld.bin imx7d_sabresd_m4_TCM_mcctty.bin"
#TJS: KERNEL_DEVICETREE_remove_imx7dsabresd = " \
#TJS:     imx7d-sdb-reva-epdc.dtb \
#TJS:     imx7d-sdb-reva-gpmi-weim.dtb \
#TJS:     imx7d-sdb-reva-hdmi-audio.dtb \
#TJS:     imx7d-sdb-reva-m4.dtb \
#TJS:     imx7d-sdb-reva-qspi.dtb \
#TJS:     imx7d-sdb-reva-touch.dtb imx7d-sdb-reva-wm8960.dtb \
#TJS: "
#TJS: KERNEL_DEVICETREE_append_imx7dsabresd = " \
#TJS:     imx7d-sdb-usd-wifi.dtb \
#TJS: "
#TJS: 
#TJS: 
#TJS: # Overrides for imx7ulpevk.conf
#TJS: UBOOT_CONFIG_imx7ulpevk = "${@bb.utils.contains('MACHINE_FEATURES', 'optee', 'sd-optee', 'sd', d)}"
#TJS: UBOOT_CONFIG_OPTEE_CONFIG_imx7ulpevk = "mx7ulp_evk_optee_config"
#TJS: OPTEE_BIN_EXT_imx7ulpevk = "7ulp"
#TJS: MACHINE_FEATURES_remove_imx7ulpevk = "qca9377"
#TJS: MACHINE_FEATURES_append_imx7ulpevk = " optee bcm43430"
#TJS: WKS_FILE_DEPENDS_append_imx7ulpevk = " imx-m4-demos"
#TJS: IMAGE_BOOT_FILES_append_imx7ulpevk = " imx7ulp_m4_demo.img imx7ulp_wireless_uart_bridge.img imx7ulp_erpc_matrix_multiply_rpmsg_rtos_imxcm4.img imx7ulp_rpmsg_lite_pingpong_rtos.img imx7ulp_rpmsg_lite_str_echo_rtos.img"
#TJS: KERNEL_DEVICETREE_remove_imx7ulpevk = " \
#TJS:     imx7ulp-evk-emmc-qspi.dtb \
#TJS:     imx7ulp-evk-qspi.dtb \
#TJS:     imx7ulp-evk-wm8960.dtb \
#TJS: "
#TJS: 
#TJS: # Overrides for imx8mmevk.conf
#TJS: # Remove from upstream
#TJS: # UBOOT_CONFIG[mfgtool] = "imx8mm_evk_config"
#TJS: # BOOT_SPACE = "65536"
#TJS: # UBOOT_SUFFIX = "bin"
#TJS: # UBOOT_MAKE_TARGET = ""
#TJS: # OPTEE_BIN_EXT = "8mm"
#TJS: MACHINE_FEATURES_remove_imx8mmevk = "qca6174"
#TJS: MACHINE_FEATURES_append_imx8mmevk = " bcm43455 bcm4356 bcm4359 jailhouse"
#TJS: WKS_FILE_DEPENDS_append_imx8mmevk = " imx-m4-demos"
#TJS: IMAGE_BOOT_FILES_append_imx8mmevk = " imx8mm_m4_TCM_hello_world.bin \
#TJS:                     imx8mm_m4_TCM_rpmsg_lite_pingpong_rtos_linux_remote.bin \
#TJS:                     imx8mm_m4_TCM_rpmsg_lite_str_echo_rtos.bin \
#TJS:                     imx8mm_m4_TCM_sai_low_power_audio.bin \
#TJS: "
#TJS: KERNEL_DEVICETREE_imx8mmevk = " \
#TJS:     freescale/imx8mm-evk.dtb \
#TJS:     freescale/imx8mm-evk-ak4497.dtb \
#TJS:     freescale/imx8mm-evk-ak5558.dtb \
#TJS:     freescale/imx8mm-evk-audio-tdm.dtb \
#TJS:     freescale/imx8mm-evk-inmate.dtb \
#TJS:     freescale/imx8mm-evk-revb.dtb \
#TJS:     freescale/imx8mm-evk-rm67191.dtb \
#TJS:     freescale/imx8mm-evk-root.dtb \
#TJS:     freescale/imx8mm-evk-rpmsg.dtb \
#TJS:     freescale/imx8mm-evk-usd-wifi.dtb \
#TJS:     freescale/imx8mm-evk-8mic-revE.dtb freescale/imx8mm-evk-8mic-swpdm.dtb \
#TJS:     freescale/imx8mm-ddr4-evk.dtb \
#TJS:     freescale/imx8mm-ddr4-evk-rm67191.dtb \
#TJS:     freescale/imx8mm-ddr4-evk-revb.dtb freescale/imx8mm-ddr4-evk-revb-rm67191.dtb \
#TJS: "
#TJS: UBOOT_DTB_NAME_imx8mmevk = "imx8mm-evk.dtb"
#TJS: 
#TJS: # Overrides for imx8mqevk.conf
#TJS: # Remove from upstream
#TJS: # UBOOT_CONFIG[mfgtool] = "imx8mq_evk_config"
#TJS: # BOOT_SPACE = "65536"
#TJS: # UBOOT_SUFFIX = "bin"
#TJS: # UBOOT_MAKE_TARGET = ""
#TJS: # OPTEE_BIN_EXT = "8mq"
#TJS: MACHINE_FEATURES_remove_imx8mqevk = "qca6174"
#TJS: MACHINE_FEATURES_append_imx8mqevk = " bcm43455 bcm4356 bcm4359 mrvl8997 jailhouse"
#TJS: WKS_FILE_DEPENDS_append_imx8mqevk = " imx-m4-demos"
#TJS: IMAGE_BOOT_FILES_append_imx8mqevk = " imx8mq_m4_TCM_hello_world.bin imx8mq_m4_TCM_rpmsg_lite_pingpong_rtos_linux_remote.bin imx8mq_m4_TCM_rpmsg_lite_str_echo_rtos.bin"
#TJS: KERNEL_DEVICETREE_imx8mqevk = " \
#TJS:     freescale/imx8mq-evk.dtb \
#TJS:     freescale/imx8mq-evk-ak4497.dtb \
#TJS:     freescale/imx8mq-evk-audio-tdm.dtb \
#TJS:     freescale/imx8mq-evk-dcss-adv7535.dtb \
#TJS:     freescale/imx8mq-evk-dcss-rm67191.dtb \
#TJS:     freescale/imx8mq-evk-dual-display.dtb \
#TJS:     freescale/imx8mq-evk-dp.dtb \
#TJS:     freescale/imx8mq-evk-inmate.dtb \
#TJS:     freescale/imx8mq-evk-lcdif-rm67191.dtb \
#TJS:     freescale/imx8mq-evk-pcie1-m2.dtb \
#TJS:     freescale/imx8mq-evk-pdm.dtb \
#TJS:     freescale/imx8mq-evk-root.dtb \
#TJS:     freescale/imx8mq-evk-rpmsg.dtb \
#TJS:     freescale/imx8mq-evk-usdhc2-m2.dtb \
#TJS:     freescale/imx8mq-evk-usd-wifi.dtb \
#TJS: "
#TJS: UBOOT_DTB_NAME_imx8mqevk = "imx8mq-evk.dtb"
#TJS: 
#TJS: # Overrides for imx8qmmek.conf
#TJS: # Remove from upstream
#TJS: # UBOOT_CONFIG[mfgtool] = "imx8qm_mek_defconfig"
#TJS: # BOOT_SPACE = "65536"
#TJS: MACHINE_FEATURES_remove_imx8qmmek = "qca6174"
#TJS: MACHINE_FEATURES_append_imx8qmmek = " pci optee bcm43455 bcm4356 bcm4359 mrvl8997"
#TJS: RDEPENDS_${KERNEL_PACKAGE_NAME}-image_imx8qmmek = ""
#TJS: UBOOT_MAKE_TARGET_imx8qmmek = \
#TJS:     "${@bb.utils.contains('MACHINE_FEATURES', 'optee', '', \
#TJS:                                                         'u-boot.bin', d)}"
#TJS: SPL_BINARY_imx8qmmek = \
#TJS:     "${@bb.utils.contains('MACHINE_FEATURES', 'optee', 'spl/u-boot-spl.bin', \
#TJS:                                                         '', d)}"
#TJS: IMX_BOOT_SEEK_imx8qmmek = "32"
#TJS: WKS_FILE_DEPENDS_remove_imx8qmmek = "firmware-imx-8"
#TJS: IMXBOOT_TARGETS_SD_imx8qmmek = \
#TJS:     "${@bb.utils.contains('MACHINE_FEATURES', 'optee', 'flash_linux_m4 flash_spl', \
#TJS:                                                         'flash_regression_linux_m4 flash flash_ca72', d)}"
#TJS: IMXBOOT_TARGETS_FSPI_imx8qmmek = \
#TJS:     "${@bb.utils.contains('MACHINE_FEATURES', 'optee', 'flash_spl_flexspi', \
#TJS:                                                         'flash_flexspi', d)}"
#TJS: IMXBOOT_TARGETS_imx8qmmek = \
#TJS:     "${@bb.utils.contains('UBOOT_CONFIG',         'sd', '${IMXBOOT_TARGETS_SD}', \
#TJS:                                                         '${IMXBOOT_TARGETS_FSPI}', d)}"
#TJS: 
#TJS: KERNEL_DEVICETREE_imx8qmmek = " \
#TJS:     freescale/imx8qm-mek.dtb \
#TJS:     freescale/imx8qm-mek-ca72.dtb \
#TJS:     freescale/imx8qm-mek-dom0.dtb \
#TJS:     freescale/imx8qm-mek-domu.dtb \
#TJS:     freescale/imx8qm-mek-dsi-rm67191.dtb \
#TJS:     freescale/imx8qm-mek-dsp.dtb \
#TJS:     freescale/imx8qm-mek-enet2-tja1100.dtb \
#TJS:     freescale/imx8qm-mek-hdmi.dtb \
#TJS:     freescale/imx8qm-mek-inmate.dtb \
#TJS:     freescale/imx8qm-mek-jdi-wuxga-lvds1-panel.dtb \
#TJS:     freescale/imx8qm-mek-jdi-wuxga-lvds1-panel-rpmsg.dtb \
#TJS:     freescale/imx8qm-mek-ov5640.dtb \
#TJS:     freescale/imx8qm-mek-root.dtb \
#TJS:     freescale/imx8qm-mek-rpmsg.dtb \
#TJS:     freescale/imx8qm-mek-sof-cs42888.dtb freescale/imx8qm-mek-sof-wm8960.dtb \
#TJS: "
#TJS: 
#TJS: # Overrides for imx8qxpmek.conf
#TJS: # Update DESCRIPTION to specify rev B0
#TJS: # Remove from upstream
#TJS: # BOOT_SPACE = "65536"
#TJS: MACHINE_FEATURES_remove_imx8qxpmek = "qca6174"
#TJS: MACHINE_FEATURES_append_imx8qxpmek = " pci optee bcm43455 bcm4356 bcm4359 mrvl8997"
#TJS: RDEPENDS_${KERNEL_PACKAGE_NAME}-image_imx8qxpmek = ""
#TJS: UBOOT_MAKE_TARGET_imx8qxpmek = \
#TJS:     "${@bb.utils.contains('MACHINE_FEATURES', 'optee', '', \
#TJS:                                                         'u-boot.bin', d)}"
#TJS: SPL_BINARY_imx8qxpmek = \
#TJS:     "${@bb.utils.contains('MACHINE_FEATURES', 'optee', 'spl/u-boot-spl.bin', \
#TJS:                                                         '', d)}"
#TJS: UBOOT_CONFIG_imx8qxpmek ??= "sd"
#TJS: UBOOT_CONFIG_imx8qxpmek[sd]   = "imx8qxp_mek_defconfig,sdcard"
#TJS: UBOOT_CONFIG_imx8qxpmek[fspi] = "imx8qxp_mek_fspi_defconfig"
#TJS: IMXBOOT_TARGETS_SD_imx8qxpmek = \
#TJS:     "${@bb.utils.contains('MACHINE_FEATURES', 'optee', 'flash_linux_m4 flash_spl', \
#TJS:                                                         'flash_regression_linux_m4 flash', d)}"
#TJS: IMXBOOT_TARGETS_FSPI_imx8qxpmek = \
#TJS:     "${@bb.utils.contains('MACHINE_FEATURES', 'optee', 'flash_spl_flexspi', \
#TJS:                                                         'flash_flexspi', d)}"
#TJS: IMXBOOT_TARGETS_imx8qxpmek = \
#TJS:     "${@bb.utils.contains('UBOOT_CONFIG',         'sd', '${IMXBOOT_TARGETS_SD}', \
#TJS:                                                         '${IMXBOOT_TARGETS_FSPI}', d)}"
#TJS: 
#TJS: KERNEL_DEVICETREE_IMX8QXP = " \
#TJS:     freescale/imx8qxp-mek.dtb \
#TJS:     freescale/imx8qxp-mek-a0.dtb \
#TJS:     freescale/imx8qxp-mek-dom0.dtb \
#TJS:     freescale/imx8qxp-mek-dpu-lcdif.dtb \
#TJS:     freescale/imx8qxp-mek-dpu-lcdif-rpmsg.dtb \
#TJS:     freescale/imx8qxp-mek-dsi-rm67191.dtb \
#TJS:     freescale/imx8qxp-mek-dsi-rm67191-rpmsg.dtb \
#TJS:     freescale/imx8qxp-mek-dsp.dtb \
#TJS:     freescale/imx8qxp-mek-enet2-tja1100.dtb \
#TJS:     freescale/imx8qxp-mek-enet2.dtb \
#TJS:     freescale/imx8qxp-mek-inmate.dtb \
#TJS:     freescale/imx8qxp-mek-it6263-lvds0-dual-channel.dtb \
#TJS:     freescale/imx8qxp-mek-it6263-lvds0-dual-channel-rpmsg.dtb \
#TJS:     freescale/imx8qxp-mek-it6263-lvds1-dual-channel.dtb \
#TJS:     freescale/imx8qxp-mek-it6263-lvds1-dual-channel-rpmsg.dtb \
#TJS:     freescale/imx8qxp-mek-jdi-wuxga-lvds0-panel.dtb \
#TJS:     freescale/imx8qxp-mek-jdi-wuxga-lvds0-panel-rpmsg.dtb \
#TJS:     freescale/imx8qxp-mek-jdi-wuxga-lvds1-panel.dtb \
#TJS:     freescale/imx8qxp-mek-jdi-wuxga-lvds1-panel-rpmsg.dtb \
#TJS:     freescale/imx8qxp-mek-ov5640.dtb \
#TJS:     freescale/imx8qxp-mek-ov5640-rpmsg.dtb \
#TJS:     freescale/imx8qxp-mek-root.dtb \
#TJS:     freescale/imx8qxp-mek-rpmsg.dtb \
#TJS:     freescale/imx8qxp-mek-sof-cs42888.dtb \
#TJS:     freescale/imx8qxp-mek-sof-wm8960.dtb \
#TJS: "
#TJS: KERNEL_DEVICETREE_imx8qxpmek = "${KERNEL_DEVICETREE_IMX8QXP}"
#TJS: 
#TJS: # imx8qxpc0mek.conf requires imx8qxpmek.conf, so use the same overrides
#TJS: # as from above
#TJS: # Remove from upstream
#TJS: # BOOT_SPACE = "65536"
#TJS: MACHINE_FEATURES_remove_imx8qxpc0mek = "qca6174"
#TJS: MACHINE_FEATURES_append_imx8qxpc0mek = " pci optee bcm43455 bcm4356 bcm4359 mrvl8997"
#TJS: RDEPENDS_${KERNEL_PACKAGE_NAME}-image_imx8qxpc0mek = ""
#TJS: UBOOT_MAKE_TARGET_imx8qxpc0mek = \
#TJS:     "${@bb.utils.contains('MACHINE_FEATURES', 'optee', '', \
#TJS:                                                         'u-boot.bin', d)}"
#TJS: SPL_BINARY_imx8qxpc0mek = \
#TJS:     "${@bb.utils.contains('MACHINE_FEATURES', 'optee', 'spl/u-boot-spl.bin', \
#TJS:                                                         '', d)}"
#TJS: UBOOT_CONFIG_imx8qxpc0mek ??= "sd"
#TJS: UBOOT_CONFIG_imx8qxpc0mek[sd]   = "imx8qxp_mek_defconfig,sdcard"
#TJS: UBOOT_CONFIG_imx8qxpc0mek[fspi] = "imx8qxp_mek_fspi_defconfig"
#TJS: IMXBOOT_TARGETS_SD_imx8qxpc0mek = \
#TJS:     "${@bb.utils.contains('MACHINE_FEATURES', 'optee', 'flash_linux_m4 flash_spl', \
#TJS:                                                         'flash flash_regression_linux_m4', d)}"
#TJS: IMXBOOT_TARGETS_FSPI_imx8qxpc0mek = \
#TJS:     "${@bb.utils.contains('MACHINE_FEATURES', 'optee', 'flash_spl_flexspi', \
#TJS:                                                         'flash_flexspi', d)}"
#TJS: IMXBOOT_TARGETS_imx8qxpc0mek = \
#TJS:     "${@bb.utils.contains('UBOOT_CONFIG',         'sd', '${IMXBOOT_TARGETS_SD}', \
#TJS:                                                         '${IMXBOOT_TARGETS_FSPI}', d)}"
#TJS: 
